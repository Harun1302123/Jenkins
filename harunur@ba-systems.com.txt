Started by user MD HARUNUR RASHID

Obtained Jenkinsfile from git https://github.com/Harun1302123/cicd-skill-main.git
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins
 in /var/jenkins_home/workspace/Test/Test-CICD
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
using credential docker-hub-harun
 > git rev-parse --resolve-git-dir /var/jenkins_home/workspace/Test/Test-CICD/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Harun1302123/cicd-skill-main.git # timeout=10
Fetching upstream changes from https://github.com/Harun1302123/cicd-skill-main.git
 > git --version # timeout=10
 > git --version # 'git version 2.39.5'
using GIT_ASKPASS to set credentials docker-hub-harun
 > git fetch --tags --force --progress -- https://github.com/Harun1302123/cicd-skill-main.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision 428e1085fbf26225f3899316697114975cdd90ed (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 428e1085fbf26225f3899316697114975cdd90ed # timeout=10
Commit message: "Update Jenkinsfile"
 > git rev-list --no-walk 428e1085fbf26225f3899316697114975cdd90ed # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ git describe --tags
fatal: No tags can describe '428e1085fbf26225f3899316697114975cdd90ed'.
Try --always, or create some tags.
+ echo
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Init)
[Pipeline] sh
+ git log -1
+ head -1
+ awk -F    {print $NF}
+ COMMIT_ID=428e1085fbf26225f3899316697114975cdd90ed
+ echo Commit ID: 428e1085fbf26225f3899316697114975cdd90ed
Commit ID: 428e1085fbf26225f3899316697114975cdd90ed
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Building Docker image)
[Pipeline] script
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker build -t registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins -f ./Dockerfile .
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 499B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/php:8.0-apache
#2 DONE 3.3s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/6] FROM docker.io/library/php:8.0-apache@sha256:c87b4c94d53b35520467b6d026f38656ab9a6d446fa3a0fbba1bc633125f9ad2
#4 resolve docker.io/library/php:8.0-apache@sha256:c87b4c94d53b35520467b6d026f38656ab9a6d446fa3a0fbba1bc633125f9ad2 0.0s done
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 0B / 31.42MB 0.1s
#4 sha256:862325aee87fc1d9b818bfc96a4412b9cd008a951101913077421d3d86c4cc9d 3.04kB / 3.04kB done
#4 sha256:0754b57b9b7d3a089ca18ba98121861a56ce2624c2875a8e7bf8b21a7957eec8 0B / 225B 0.1s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 0B / 91.64MB 0.1s
#4 sha256:c87b4c94d53b35520467b6d026f38656ab9a6d446fa3a0fbba1bc633125f9ad2 1.86kB / 1.86kB done
#4 sha256:3357132d6ece3a509ce6f8abf6e7cf9886b343c504cb58428a7302cbe7abe446 12.84kB / 12.84kB done
#4 ...

#5 [internal] load build context
#5 transferring context: 7.02MB 0.2s done
#5 DONE 0.2s

#4 [1/6] FROM docker.io/library/php:8.0-apache@sha256:c87b4c94d53b35520467b6d026f38656ab9a6d446fa3a0fbba1bc633125f9ad2

#4 sha256:0754b57b9b7d3a089ca18ba98121861a56ce2624c2875a8e7bf8b21a7957eec8 225B / 225B 0.7s done
#4 sha256:f25a6e74b7f558f50a59c2efa94a62c44a6323861b0c76e6d2144078ab6c5ed4 0B / 271B 0.8s

#4 sha256:f25a6e74b7f558f50a59c2efa94a62c44a6323861b0c76e6d2144078ab6c5ed4 271B / 271B 1.7s done
#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 0B / 19.26MB 1.8s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 1.05MB / 31.42MB 5.1s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 0B / 91.64MB 5.1s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 0B / 19.26MB 6.9s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 1.05MB / 19.26MB 8.1s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 2.10MB / 31.42MB 10.2s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 1.05MB / 91.64MB 10.2s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 2.10MB / 19.26MB 11.8s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 3.15MB / 19.26MB 15.1s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 3.15MB / 31.42MB 15.2s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 1.05MB / 91.64MB 15.2s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 4.19MB / 19.26MB 18.7s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 4.19MB / 31.42MB 20.3s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 2.10MB / 91.64MB 20.3s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 5.24MB / 19.26MB 23.1s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 5.24MB / 31.42MB 25.3s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 3.15MB / 91.64MB 25.3s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 6.29MB / 19.26MB 28.1s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 6.29MB / 31.42MB 30.4s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 4.19MB / 91.64MB 30.4s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 7.34MB / 19.26MB 33.1s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 7.34MB / 31.42MB 35.5s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 4.19MB / 91.64MB 35.5s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 7.34MB / 19.26MB 38.1s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 8.39MB / 19.26MB 39.3s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 9.44MB / 31.42MB 40.0s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 5.24MB / 91.64MB 40.6s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 8.39MB / 19.26MB 44.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 10.49MB / 31.42MB 45.1s
#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 9.44MB / 19.26MB 45.2s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 6.29MB / 91.64MB 45.7s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 10.49MB / 19.26MB 49.5s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 11.53MB / 31.42MB 50.1s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 7.34MB / 91.64MB 50.9s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 11.53MB / 19.26MB 54.1s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 11.53MB / 31.42MB 55.3s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 8.39MB / 91.64MB 56.0s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 12.58MB / 19.26MB 57.8s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 12.58MB / 31.42MB 60.4s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 9.44MB / 91.64MB 61.0s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 13.63MB / 19.26MB 62.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 13.63MB / 31.42MB 65.5s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 10.49MB / 91.64MB 66.1s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 13.63MB / 19.26MB 67.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 14.68MB / 31.42MB 70.8s
#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 14.68MB / 19.26MB 70.8s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 11.53MB / 91.64MB 71.1s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 15.73MB / 31.42MB 75.9s
#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 14.68MB / 19.26MB 75.9s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 12.58MB / 91.64MB 76.2s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 15.73MB / 19.26MB 77.8s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 16.78MB / 31.42MB 81.0s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 14.68MB / 91.64MB 81.3s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 15.73MB / 19.26MB 82.9s
#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 16.78MB / 19.26MB 83.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 17.83MB / 31.42MB 86.0s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 15.73MB / 91.64MB 86.4s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 17.83MB / 19.26MB 87.8s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 18.87MB / 31.42MB 91.0s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 15.73MB / 91.64MB 91.5s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 18.87MB / 19.26MB 91.9s

#4 sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 19.26MB / 19.26MB 93.0s done
#4 sha256:866c9e44fbd45ff348f92197e8339f30a9888e80f74473a4354e370b3039760f 0B / 473B 93.1s

#4 sha256:866c9e44fbd45ff348f92197e8339f30a9888e80f74473a4354e370b3039760f 473B / 473B 94.6s done
#4 sha256:dd2572036f7c292392aafb9fb89d2ce0215b5dcb6c8046f4e3eba4933e1f16d0 0B / 512B 94.7s

#4 sha256:dd2572036f7c292392aafb9fb89d2ce0215b5dcb6c8046f4e3eba4933e1f16d0 512B / 512B 95.4s done
#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 0B / 11.16MB 95.6s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 19.92MB / 31.42MB 96.2s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 16.78MB / 91.64MB 96.7s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 1.05MB / 11.16MB 100.1s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 20.97MB / 31.42MB 101.2s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 17.83MB / 91.64MB 101.9s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 2.10MB / 11.16MB 104.5s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 22.02MB / 31.42MB 106.3s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 17.83MB / 91.64MB 107.0s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 2.10MB / 11.16MB 109.6s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 3.15MB / 11.16MB 110.8s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 23.07MB / 31.42MB 111.4s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 18.87MB / 91.64MB 112.0s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 3.15MB / 11.16MB 116.0s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 24.12MB / 31.42MB 116.5s
#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 4.19MB / 11.16MB 116.7s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 19.92MB / 91.64MB 117.0s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 5.24MB / 11.16MB 120.8s
#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 25.17MB / 31.42MB 121.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 20.97MB / 91.64MB 122.1s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 6.29MB / 11.16MB 125.6s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 25.17MB / 31.42MB 126.7s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 22.02MB / 91.64MB 127.1s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 7.34MB / 11.16MB 130.3s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 26.21MB / 31.42MB 131.8s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 22.02MB / 91.64MB 132.2s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 7.34MB / 11.16MB 135.3s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 27.26MB / 31.42MB 136.8s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 23.07MB / 91.64MB 137.3s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 7.34MB / 11.16MB 140.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 28.31MB / 31.42MB 141.8s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 24.12MB / 91.64MB 142.3s
#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 8.39MB / 11.16MB 142.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 29.36MB / 31.42MB 146.9s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 25.17MB / 91.64MB 147.4s
#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 8.39MB / 11.16MB 147.6s
#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 9.44MB / 11.16MB 148.3s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 30.41MB / 31.42MB 152.0s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 25.17MB / 91.64MB 152.5s

#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 10.49MB / 11.16MB 153.4s

#4 sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 31.42MB / 31.42MB 154.7s done
#4 extracting sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 0.1s
#4 sha256:7477e087c645035156569857f92b7a4cb763de7856d9742c00b8ef5a4a088462 0B / 493B 154.8s

#4 extracting sha256:b7f91549542cca4b35a34cdee5364339f17468971ea730bb072864d3e78c8b94 0.9s done
#4 extracting sha256:0754b57b9b7d3a089ca18ba98121861a56ce2624c2875a8e7bf8b21a7957eec8 done
#4 sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 11.16MB / 11.16MB 156.3s done
#4 sha256:7477e087c645035156569857f92b7a4cb763de7856d9742c00b8ef5a4a088462 493B / 493B 156.1s done
#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 0B / 10.78MB 156.3s

#4 sha256:e2fa9cf394d513be8d00c29ba363f4e17ad120634bee066d4b659d9f102f9313 0B / 2.46kB 156.5s
#4 sha256:e2fa9cf394d513be8d00c29ba363f4e17ad120634bee066d4b659d9f102f9313 2.46kB / 2.46kB 157.1s done
#4 sha256:64ffebf1272af88c371f9a231cb81456dbd574cf8cf01f4f61da84c56c2db35c 0B / 245B 157.2s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 26.21MB / 91.64MB 157.6s
#4 sha256:64ffebf1272af88c371f9a231cb81456dbd574cf8cf01f4f61da84c56c2db35c 245B / 245B 157.8s done
#4 sha256:0f5602f40cda209163b96b947cf66d43d4a6934d40f59301a57eddb5f52eb5a2 0B / 892B 157.9s

#4 sha256:0f5602f40cda209163b96b947cf66d43d4a6934d40f59301a57eddb5f52eb5a2 892B / 892B 158.5s done

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 0B / 10.78MB 161.3s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 1.05MB / 10.78MB 162.0s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 28.31MB / 91.64MB 162.8s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 2.10MB / 10.78MB 166.0s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 30.41MB / 91.64MB 167.9s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 3.15MB / 10.78MB 169.3s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 31.46MB / 91.64MB 173.0s
#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 4.19MB / 10.78MB 173.0s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 5.24MB / 10.78MB 177.0s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 33.55MB / 91.64MB 178.1s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 6.29MB / 10.78MB 180.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 34.60MB / 91.64MB 183.1s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 7.34MB / 10.78MB 184.6s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 8.39MB / 10.78MB 188.1s
#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 36.70MB / 91.64MB 188.2s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 9.44MB / 10.78MB 191.1s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 37.75MB / 91.64MB 193.4s
#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 10.49MB / 10.78MB 194.1s

#4 sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 10.78MB / 10.78MB 194.7s done

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 38.80MB / 91.64MB 198.5s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 40.89MB / 91.64MB 203.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 42.99MB / 91.64MB 208.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 46.14MB / 91.64MB 213.8s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 49.28MB / 91.64MB 219.0s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 52.43MB / 91.64MB 224.1s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 55.57MB / 91.64MB 229.1s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 58.72MB / 91.64MB 234.2s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 61.87MB / 91.64MB 239.4s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 65.01MB / 91.64MB 244.5s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 67.11MB / 91.64MB 249.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 70.25MB / 91.64MB 254.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 73.40MB / 91.64MB 259.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 76.55MB / 91.64MB 264.6s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 79.69MB / 91.64MB 269.7s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 82.84MB / 91.64MB 274.9s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 85.98MB / 91.64MB 280.0s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 89.13MB / 91.64MB 285.1s

#4 sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 91.64MB / 91.64MB 288.7s done
#4 extracting sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631

#4 extracting sha256:71e5060f3937930b5fa3d39f56adf3c2acfea72741014d1969f3f437e5835631 2.1s done
#4 extracting sha256:f25a6e74b7f558f50a59c2efa94a62c44a6323861b0c76e6d2144078ab6c5ed4
#4 extracting sha256:f25a6e74b7f558f50a59c2efa94a62c44a6323861b0c76e6d2144078ab6c5ed4 done
#4 extracting sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 0.1s

#4 extracting sha256:c5d33b602102b183f8435dd317aff8889153fbf7eb46df307891feaa427a627c 0.4s done
#4 extracting sha256:866c9e44fbd45ff348f92197e8339f30a9888e80f74473a4354e370b3039760f
#4 extracting sha256:866c9e44fbd45ff348f92197e8339f30a9888e80f74473a4354e370b3039760f done
#4 extracting sha256:dd2572036f7c292392aafb9fb89d2ce0215b5dcb6c8046f4e3eba4933e1f16d0 done
#4 extracting sha256:23211a2fa48d3f0ba43c2124eb3f88fd0ee85fbd1c60e5c0c2ce7feeb9cd7258 0.1s done
#4 extracting sha256:7477e087c645035156569857f92b7a4cb763de7856d9742c00b8ef5a4a088462 done
#4 extracting sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 0.1s
#4 extracting sha256:8d8d3d5c12ce803cdaf4abcfba7285f96b834b680ae0643ea7eb375cf591c7cb 0.3s done
#4 extracting sha256:e2fa9cf394d513be8d00c29ba363f4e17ad120634bee066d4b659d9f102f9313 done
#4 extracting sha256:64ffebf1272af88c371f9a231cb81456dbd574cf8cf01f4f61da84c56c2db35c done
#4 extracting sha256:0f5602f40cda209163b96b947cf66d43d4a6934d40f59301a57eddb5f52eb5a2 done
#4 DONE 292.0s

#6 [2/6] RUN docker-php-ext-install mysqli

#6 1.860 Configuring for:
#6 1.860 PHP Api Version:         20200930
#6 1.860 Zend Module Api No:      20200930
#6 1.860 Zend Extension Api No:   420200930

#6 2.517 checking for grep that handles long lines and -e... /bin/grep
#6 2.519 checking for egrep... /bin/grep -E
#6 2.521 checking for a sed that does not truncate output... /bin/sed
#6 2.554 checking for pkg-config... /usr/bin/pkg-config
#6 2.554 checking pkg-config is at least version 0.9.0... yes
#6 2.556 checking for cc... cc
#6 2.578 checking whether the C compiler works... yes
#6 2.621 checking for C compiler default output file name... a.out
#6 2.622 checking for suffix of executables... 
#6 2.662 checking whether we are cross compiling... no
#6 2.707 checking for suffix of object files... o
#6 2.729 checking whether we are using the GNU C compiler... yes
#6 2.752 checking whether cc accepts -g... yes
#6 2.773 checking for cc option to accept ISO C89... none needed
#6 2.806 checking how to run the C preprocessor... cc -E
#6 2.860 checking for icc... no
#6 2.869 checking for suncc... no
#6 2.878 checking for system library directory... lib
#6 2.879 checking if compiler supports -Wl,-rpath,... yes
#6 2.925 checking build system type... x86_64-pc-linux-gnu
#6 2.930 checking host system type... x86_64-pc-linux-gnu
#6 2.931 checking target system type... x86_64-pc-linux-gnu
#6 2.967 checking for PHP prefix... /usr/local
#6 2.967 checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
#6 2.967 checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20200930
#6 2.967 checking for PHP installed headers prefix... /usr/local/include/php
#6 2.967 checking if debug is enabled... no
#6 2.985 checking if zts is enabled... no
#6 3.002 checking for gawk... no
#6 3.002 checking for nawk... nawk
#6 3.003 checking if nawk is broken... no
#6 3.004 checking for MySQLi support... yes, shared
#6 3.004 checking for specified location of the MySQL UNIX socket... no
#6 3.005 checking for MySQL UNIX socket location... no
#6 3.025 checking for a sed that does not truncate output... /bin/sed
#6 3.028 checking for ld used by cc... /usr/bin/ld
#6 3.033 checking if the linker (/usr/bin/ld) is GNU ld... yes
#6 3.035 checking for /usr/bin/ld option to reload object files... -r
#6 3.035 checking for BSD-compatible nm... /usr/bin/nm -B
#6 3.038 checking whether ln -s works... yes
#6 3.038 checking how to recognize dependent libraries... pass_all
#6 3.057 checking for ANSI C header files... yes
#6 3.169 checking for sys/types.h... yes
#6 3.201 checking for sys/stat.h... yes
#6 3.234 checking for stdlib.h... yes
#6 3.265 checking for string.h... yes
#6 3.299 checking for memory.h... yes
#6 3.332 checking for strings.h... yes
#6 3.367 checking for inttypes.h... yes

#6 3.402 checking for stdint.h... yes
#6 3.438 checking for unistd.h... yes
#6 3.475 checking dlfcn.h usability... yes
#6 3.508 checking dlfcn.h presence... yes
#6 3.520 checking for dlfcn.h... yes
#6 3.521 checking the maximum length of command line arguments... 1572864
#6 3.526 checking command to parse /usr/bin/nm -B output from cc object... ok
#6 3.597 checking for objdir... .libs
#6 3.601 checking for ar... ar
#6 3.602 checking for ranlib... ranlib
#6 3.602 checking for strip... strip
#6 3.664 checking if cc supports -fno-rtti -fno-exceptions... no
#6 3.689 checking for cc option to produce PIC... -fPIC
#6 3.690 checking if cc PIC flag -fPIC works... yes
#6 3.711 checking if cc static flag -static works... yes
#6 3.804 checking if cc supports -c -o file.o... yes
#6 3.841 checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
#6 3.859 checking whether -lc should be explicitly linked in... no
#6 3.890 checking dynamic linker characteristics... GNU/Linux ld.so
#6 3.907 checking how to hardcode library paths into programs... immediate
#6 3.907 checking whether stripping libraries is possible... yes
#6 3.910 checking if libtool supports shared libraries... yes
#6 3.910 checking whether to build shared libraries... yes
#6 3.910 checking whether to build static libraries... no
#6 4.103 
#6 4.103 creating libtool
#6 4.125 appending configuration tag "CXX" to libtool
#6 4.191 configure: patching config.h.in
#6 4.193 configure: creating ./config.status
#6 4.253 config.status: creating config.h
#6 4.293 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli.c -o mysqli.lo 
#6 4.394 mkdir .libs

#6 4.396  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli.c  -fPIC -DPIC -o .libs/mysqli.o
#6 4.760 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_api.c -o mysqli_api.lo 
#6 4.862  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_api.c  -fPIC -DPIC -o .libs/mysqli_api.o

#6 5.696 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_prop.c -o mysqli_prop.lo 
#6 5.797  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_prop.c  -fPIC -DPIC -o .libs/mysqli_prop.o
#6 6.110 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_nonapi.c -o mysqli_nonapi.lo 
#6 6.211  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_nonapi.c  -fPIC -DPIC -o .libs/mysqli_nonapi.o

#6 6.640 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_report.c -o mysqli_report.lo 
#6 6.740  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_report.c  -fPIC -DPIC -o .libs/mysqli_report.o
#6 6.874 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_driver.c -o mysqli_driver.lo 
#6 6.974  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_driver.c  -fPIC -DPIC -o .libs/mysqli_driver.o
#6 7.113 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_warning.c -o mysqli_warning.lo 
#6 7.215  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_warning.c  -fPIC -DPIC -o .libs/mysqli_warning.o
#6 7.385 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_exception.c -o mysqli_exception.lo 

#6 7.487  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_exception.c  -fPIC -DPIC -o .libs/mysqli_exception.o
#6 7.619 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=compile cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_result_iterator.c -o mysqli_result_iterator.lo 
#6 7.716  cc -I. -I/usr/src/php/ext/mysqli -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /usr/src/php/ext/mysqli/mysqli_result_iterator.c  -fPIC -DPIC -o .libs/mysqli_result_iterator.o
#6 7.854 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=link cc -shared -I/usr/src/php/ext/mysqli/include -I/usr/src/php/ext/mysqli/main -I/usr/src/php/ext/mysqli -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -Wl,-O1 -pie  -o mysqli.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/mysqli/modules  mysqli.lo mysqli_api.lo mysqli_prop.lo mysqli_nonapi.lo mysqli_report.lo mysqli_driver.lo mysqli_warning.lo mysqli_exception.lo mysqli_result_iterator.lo 
#6 8.003 cc -shared  .libs/mysqli.o .libs/mysqli_api.o .libs/mysqli_prop.o .libs/mysqli_nonapi.o .libs/mysqli_report.o .libs/mysqli_driver.o .libs/mysqli_warning.o .libs/mysqli_exception.o .libs/mysqli_result_iterator.o   -Wl,-O1 -Wl,-soname -Wl,mysqli.so -o .libs/mysqli.so
#6 8.026 creating mysqli.la
#6 8.035 (cd .libs && rm -f mysqli.la && ln -s ../mysqli.la mysqli.la)
#6 8.038 /bin/bash /usr/src/php/ext/mysqli/libtool --mode=install cp ./mysqli.la /usr/src/php/ext/mysqli/modules
#6 8.068 cp ./.libs/mysqli.so /usr/src/php/ext/mysqli/modules/mysqli.so
#6 8.073 cp ./.libs/mysqli.lai /usr/src/php/ext/mysqli/modules/mysqli.la
#6 8.091 PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/mysqli/modules
#6 8.093 ----------------------------------------------------------------------
#6 8.093 Libraries have been installed in:
#6 8.093    /usr/src/php/ext/mysqli/modules
#6 8.093 
#6 8.093 If you ever happen to want to link against installed libraries
#6 8.093 in a given directory, LIBDIR, you must either use libtool, and
#6 8.093 specify the full pathname of the library, or use the `-LLIBDIR'
#6 8.093 flag during linking and do at least one of the following:
#6 8.093    - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
#6 8.093      during execution
#6 8.093    - add LIBDIR to the `LD_RUN_PATH' environment variable
#6 8.093      during linking
#6 8.093    - use the `-Wl,--rpath -Wl,LIBDIR' linker flag
#6 8.093    - have your system administrator add LIBDIR to `/etc/ld.so.conf'
#6 8.093 
#6 8.093 See any operating system documentation about shared libraries for
#6 8.093 more information, such as the ld(1) and ld.so(8) manual pages.
#6 8.095 ----------------------------------------------------------------------
#6 8.097 
#6 8.099 Build complete.
#6 8.101 Don't forget to run 'make test'.
#6 8.103 
#6 8.120 + strip --strip-all modules/mysqli.so
#6 8.143 Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20200930/
#6 8.240 Installing header files:          /usr/local/include/php/
#6 8.333 find . -name \*.gcno -o -name \*.gcda | xargs rm -f
#6 8.339 find . -name \*.lo -o -name \*.o | xargs rm -f
#6 8.343 find . -name \*.la -o -name \*.a | xargs rm -f

#6 8.347 find . -name \*.so | xargs rm -f
#6 8.352 find . -name .libs -a -type d|xargs rm -rf
#6 8.356 rm -f libphp.la      modules/* libs/*
#6 8.358 rm -f ext/opcache/jit/zend_jit_x86.c
#6 DONE 9.1s

#7 [3/6] COPY . /var/www/html/
#7 DONE 0.2s


#8 [4/6] WORKDIR /var/www/html
#8 DONE 0.0s

#9 [5/6] COPY default.conf /etc/apache2/sites-enabled/000-default.conf
#9 DONE 0.0s

#10 [6/6] RUN chown -R www-data:www-data /var/www/html

#10 DONE 2.3s

#11 exporting to image
#11 exporting layers
#11 exporting layers 0.2s done
#11 writing image sha256:9e826e883b70ed2533a8808f6ec99132cb566166c25e5073f49b73906507547c done
#11 naming to registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins done
#11 DONE 0.2s
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // script
[Pipeline] sh

+ docker images
+ grep php-app-prod
registry.hub.docker.com/harunurrashid/php-app-prod   24-jenkins   9e826e883b70   1 second ago   469MB
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Push Docker image)
[Pipeline] script
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withDockerRegistry
$ docker login -u harunurrashid -p ******** https://registry.hub.docker.com
WARNING! Using --password via the CLI is insecure. Use --password-stdin.

WARNING! Your password will be stored unencrypted in /var/jenkins_home/workspace/Test/Test-CICD@tmp/fdffff5e-35d0-4c86-b16e-4c20e6a3bcab/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credential-stores

Login Succeeded
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh

+ docker tag registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker push registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins
The push refers to repository [registry.hub.docker.com/harunurrashid/php-app-prod]

84c697836cbf: Preparing
19f9ab5126aa: Preparing
5f70bf18a086: Preparing
170fd2074126: Preparing
4aba2e1ca409: Preparing
b010af92d1b8: Preparing
d5c4f03c0e22: Preparing
bccfcf081202: Preparing
b1fa81c598ab: Preparing
25acef0694e6: Preparing
643ef540638b: Preparing
7fb8b6b1303d: Preparing
a676f10abc76: Preparing
2b9a13895371: Preparing
470cafb92a2a: Preparing
9908a80d2ba0: Preparing
f99b495681ef: Preparing
1b6fd3ad4ce6: Preparing
b1fa81c598ab: Waiting
25acef0694e6: Waiting
643ef540638b: Waiting
7fb8b6b1303d: Waiting
a676f10abc76: Waiting
2b9a13895371: Waiting
470cafb92a2a: Waiting
9908a80d2ba0: Waiting
f99b495681ef: Waiting
1b6fd3ad4ce6: Waiting
b010af92d1b8: Waiting
d5c4f03c0e22: Waiting
bccfcf081202: Waiting

19f9ab5126aa: Pushed

5f70bf18a086: Pushed
4aba2e1ca409: Pushed

b010af92d1b8: Pushed

84c697836cbf: Pushed
d5c4f03c0e22: Pushed

bccfcf081202: Pushed

25acef0694e6: Pushed

7fb8b6b1303d: Pushed

a676f10abc76: Pushed

170fd2074126: Pushed

470cafb92a2a: Pushed

f99b495681ef: Pushed

b1fa81c598ab: Pushed

643ef540638b: Pushed

2b9a13895371: Pushed

1b6fd3ad4ce6: Pushed

9908a80d2ba0: Pushed
24-jenkins: digest: sha256:7fc21a3dbb3ed73465956e1b7ab6596cf52be15a771e313742c48bdb1b48a8e9 size: 4079
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] sh

+ docker images
+ grep php-app-prod
registry.hub.docker.com/harunurrashid/php-app-prod   24-jenkins   9e826e883b70   5 minutes ago   469MB
[Pipeline] }
[Pipeline] // withDockerRegistry
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Security Scan)
[Pipeline] script
[Pipeline] {
[Pipeline] sh
+ trivy image --exit-code 1 --severity HIGH,CRITICAL registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins
/var/jenkins_home/workspace/Test/Test-CICD@tmp/durable-f7ba4cdf/script.sh.copy: 1: trivy: not found
[Pipeline] sh
+ curl -H Content-Type: application/json -d { "content": "Trivy scan failed for image registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins. Check the logs for details." } https://discord.com/api/webhooks/1298740633476923474/94YCtVED6pK-jGd33-je-XpxOrFJMMKFFaalVGwPZbdGxQ2RwmwLsOmGgXcpG-c-1FXP
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100   135    0     0  100   135      0    243 --:--:-- --:--:-- --:--:--   243
100   135    0     0  100   135      0    243 --:--:-- --:--:-- --:--:--   243
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Run Docker container)
[Pipeline] echo
Running Docker container for PHP app
[Pipeline] sh
+ docker run -d --name php-app-prod -p 8088:80 registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins
d41a8aab3fdcddb91f86f1131874bed89533eb5dfc3602d6b99321d1fdc9f35a

[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Run PHPUnit Tests)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
Running PHPUnit tests in Docker container
[Pipeline] sh
+ docker exec php-app /var/www/html/vendor/bin/phpunit --configuration phpunit.xml
Error response from daemon: No such container: php-app
[Pipeline] sh
+ curl -H Content-Type: application/json -d { "content": "Unit tests failed in Docker container php-app. Check the logs for details." } https://discord.com/api/webhooks/1298740633476923474/94YCtVED6pK-jGd33-je-XpxOrFJMMKFFaalVGwPZbdGxQ2RwmwLsOmGgXcpG-c-1FXP
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100    91    0     0  100    91      0    180 --:--:-- --:--:-- --:--:--   180
100    91    0     0  100    91      0    180 --:--:-- --:--:-- --:--:--   180
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Run SQA Testing)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
Running SQA testing for PHP application
[Pipeline] sh
+ echo Running SQA tests...
Running SQA tests...
[Pipeline] sh
+ curl -H Content-Type: application/json -d { "content": "SQA tests passed successfully for the PHP application." } https://discord.com/api/webhooks/1298740633476923474/94YCtVED6pK-jGd33-je-XpxOrFJMMKFFaalVGwPZbdGxQ2RwmwLsOmGgXcpG-c-1FXP
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed


100    71    0     0  100    71      0    658 --:--:-- --:--:-- --:--:--   657
100    71    0     0  100    71      0    135 --:--:-- --:--:-- --:--:--   135
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy)
[Pipeline] script
[Pipeline] {
[Pipeline] sh
+ docker run -d registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins
15d8db2715de73640402e5da91c467e3483f08c2ab8db03fa694903332c4cc59

[Pipeline] sh
+ curl -H Content-Type: application/json -d { "content": "Deployment of registry.hub.docker.com/harunurrashid/php-app-prod:24-jenkins was successful by Name: MD HARUNUR RASHID and Email: harunur@ba-systems.com" } https://discord.com/api/webhooks/1298740633476923474/94YCtVED6pK-jGd33-je-XpxOrFJMMKFFaalVGwPZbdGxQ2RwmwLsOmGgXcpG-c-1FXP
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100   168    0     0  100   168      0    349 --:--:-- --:--:-- --:--:--   350
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

